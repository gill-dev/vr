(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[928],{171:function(e,t,n){Promise.resolve().then(n.bind(n,5007)),Promise.resolve().then(n.bind(n,912)),Promise.resolve().then(n.bind(n,1481))},5007:function(e,t,n){"use strict";n.r(t);var r=n(7437),o=n(2265),i=n(8800),s=n(7585),l=n(6041),a=n(7776);let c=(0,l.ip)(),u=()=>{let[e,t]=(0,o.useState)(null),[n,s]=(0,o.useState)(null),[c,u]=(0,o.useState)(1),h=(0,o.useRef)(null),d=(0,o.useRef)(null),{scene:m,camera:p}=(0,i.D)(),x=(0,o.useRef)(new a.Raycaster),{isPresenting:f,enterAR:b,exitAR:g}=(0,l.nH)();(0,o.useEffect)(()=>{new a.TextureLoader().load("/images/artwork.png",e=>{t(e)})},[]),(0,l._5)((e,t)=>{if(n||0===e.length)return;let r=e[0],o=new a.Matrix4;t(o,r);let i=new a.Vector3;i.setFromMatrixPosition(o),s(i)},d);let j=(0,o.useCallback)(()=>{n&&h.current&&(h.current.position.copy(n),h.current.lookAt(p.position))},[n,p]),w=(0,o.useCallback)(e=>{u(t=>Math.max(.5,Math.min(t+.01*e,2)))},[]);return((0,i.F)(e=>{let{gl:t}=e;h.current&&(t.domElement.onpointerdown&&(t.domElement.onpointerdown=e=>{x.current.setFromCamera(new a.Vector2(e.clientX/t.domElement.clientWidth*2-1,-(e.clientY/t.domElement.clientHeight*2)+1),p),x.current.intersectObject(h.current,!0).length>0&&j()}),document.onkeydown=e=>{"+"===e.key&&w(1),"-"===e.key&&w(-1)})}),e&&n)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:f?g:b,style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",padding:"10px 20px",fontSize:"16px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:f?"Exit AR":"Enter AR"}),(0,r.jsx)("object3D",{ref:d}),(0,r.jsx)("group",{ref:h,position:n,children:(0,r.jsxs)("mesh",{"rotation-x":-Math.PI/2,scale:[c,c,1],children:[(0,r.jsx)("planeGeometry",{args:[1,e.image.height/e.image.width]}),(0,r.jsx)("meshBasicMaterial",{map:e,transparent:!0})]})})]}):null};t.default=()=>(0,r.jsx)("div",{style:{width:"100%",height:"100vh"},children:(0,r.jsx)(s.Xz,{children:(0,r.jsxs)(l.XR,{store:c,children:[(0,r.jsx)(u,{}),(0,r.jsx)("ambientLight",{intensity:.5}),(0,r.jsx)("pointLight",{position:[10,10,10]})]})})})}},function(e){e.O(0,[689,64,971,23,744],function(){return e(e.s=171)}),_N_E=e.O()}]);